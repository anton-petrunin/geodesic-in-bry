\documentclass[a4paper,10pt]{article}
\usepackage{paper}

\def\thetitle{About all convex sets in\\ most Riemannian manifolds}
\hypersetup{
pdftitle={\thetitle},
pdfauthor={Alexander Lytchak and Anton Petrunin}
}

\begin{document}

\title{\thetitle}
\author{Alexander Lytchak and Anton Petrunin}
\date{}
\maketitle

\begin{abstract}
We give a necessary condition on a geodesic in a Riemannian manifold that can run in some convex hypersurface.
As a corollary we obtain peculiar properties of \emph{all} convex sets that hold true in any \emph{generic} Riemannian manifold $(M,g)$.
For example, if a convex set in $(M,g)$ is bounded by a smooth hypersurface, then it is strictly convex.
\end{abstract}

\section{Introduction}
Let $\mathfrak{C}$ be the convex hull of a subset $Q$ in a Euclidean space.
By Carathéodory's theorem, any point in $\mathfrak{C}\setminus Q$ is an inner point of a line segment contained in $\mathfrak{C}$;
that is, the complement $\mathfrak{C} \setminus Q$ does not contain extreme points of $\mathfrak{C}$.
This statement admits a straightforward generalization to the sphere and the  Lobachevsky space; moreover, it  is also easily seen to hold \emph{locally} in any two-dimensional Riemannian manifold.%
\footnote{Recall that a set $\mathfrak{C}$ in a Riemannian manifold $(M,g)$ is called \emph{convex} if for any pair of points $x,y\in \mathfrak{C}$ any minimizing geodesic $[x,y]$ lies in $\mathfrak{C}$.
A point in $\mathfrak{C}$ is called \emph{extreme} if it does not lie in an interior of a geodesic in~$\mathfrak{C}$.}

It seems to be a folklore belief that a version of this statement should hold true in all Riemannian manifolds.
For instance, it is claimed by Mohammad Ghomi and Joel Spruck \cite[Lemma 9.1]{Ghomi}.
In the present note we prove that the somewhat counter-intuitive opposite is the case for \emph{generic} Riemannian manifolds.
It agrees with the pattern: \emph{a typical object in your favorite theory looks like nothing you have ever seen before}.

Further Riemannian metrics will be assumed to be $\mathcal C^\infty$-smooth.
Given a positive integer $k$, we say that a property $\mathcal P$ holds for \emph{$\mathcal C^k$-generic} Riemannian metric $g$ on a manifold $M$ 
if the property $\mathcal P$ holds for a dense \emph{G-delta set} (that is, a countable intersection of open subsets) of metric tensors in the $\mathcal C^k$-topology.
Since the space of Riemannian metrics  on $M$ is \emph{Baire}, with  respect to $\mathcal C^k$-topology, any 
countable intersection of dense G-delta sets is dense;
in particular we may say that \emph{most} of Riemannian metrics are generic.

\begin{thm}{Main theorem}\label{thm:main}
Let $g$ be a $\mathcal C^2$-generic Riemannian metric on a smooth manifold $M$.
Then any closed convex set $\mathfrak{C}\subset (M,g)$ that is not a subset of a geodesic
satisfies the following properties:

\begin{subthm}{thm:main:interior}
The set $\mathfrak{C}$ has nonempty interior.
\end{subthm}

\begin{subthm}{thm:main:geodesics}
The set of all non-extreme points $\partial\mathfrak{C}$ is a countable union of disjoint geodesics in $(M,g)$.
In particular, if $\dim M\ge 3$, then the set of
extreme points of $\mathfrak{C}$ is dense in~$\partial\mathfrak{C}$.
\end{subthm}

\end{thm}

Part \ref{SHORT.thm:main:interior} for $\dim M\ge 4$ is proved by Thomas Murphy and Frederick Wilhelm \cite{Wilhelm};
for $\dim M=3$ the proof was sketched by Robert Bryant \cite{Bryant}.

Recall that the convex hull of a set $Q$ is defined as the minimal convex set (with respect to inclusion) that contains $Q$.
According to Carathéodory's theorem, the convex hull of  any compact set of a Euclidean space (or sphere of the Lobachevsky space) is compact.
According to the following corollary, the latter does not hold in most Riemannian manifolds.

\begin{thm}{Corollary}\label{cor:caratheodory}
Let $g$ be a $\mathcal C^2$-generic Riemannian metric on a smooth connected manifold $M$ with dimension at least 3.
Suppose that a connected closed set $Q$ has a convex hull $\mathfrak{C}$ that is compact.
Then $Q\supset \partial \mathfrak{C}$.
\end{thm}

The proofs are built on the following proposition.
Its formulation use the notion of \emph{rank} of convex set at a point which is defined as the dimension of maximal linear subspace in the tangent cone to the convex set at the point.

\begin{thm}{Main proposition}\label{prom:rank}
Let $g$ be a $\mathcal C^2$-generic Riemannian metric on a smooth $m$-dimensional manifold $M$.
Suppose $\mathfrak{C}$ is a closed convex set in $(M,g)$.
Then all non-extreme points of $\mathfrak{C}$ have rank either $1$ or $m$.

In particular, if $\dim M\ge 3$ and $\mathfrak{C}$ is bounded by a $\mathcal{C}^1$-smooth hypersurface, then $\mathfrak{C}$ is \emph{strictly convex};
that is, all boundary points of $\mathfrak{C}$ are extreme.
\end{thm}

A  weaker version of this proposition was sketched by the second author~\cite{petrunin-2009}.  

The proof of the proposition is built on the key lemma stated in the following section;   
it describes a necessary condition on a geodesic in a Riemannian manifold that stays
% can run 
in some convex, possibly non-smooth, hypersurface.
If the geodesic contains a point of rank at least 2, then this condition implies a non-trivial
statement on the curvature tensor of the manifold.
The remaining part is slightly technical but straightforward: we show that the curvature tensor of a generic Riemannian manifold does not meet this property; this is done by applying the Thom transversality theorem.


\section{Key lemma}


Let $\mathfrak{C}$ be a closed convex set in an $m$-dimensional Riemannian manifold $(M,g)$.
Recall that $\T_x=\T_xM$ denotes the \emph{tangent space} of $M$ at $x$.
The \emph{tangent cone} $\K_x\mathfrak{C}\subset \T_x$ at $x\in\mathfrak{C}$ is defined as the closure of the set of all velocity vectors of geodesics that start at $x$ and run in $\mathfrak{C}$.

Given $x\in \mathfrak{C}$, denote by $\L_x\mathfrak{C}$ the \emph{maximal linear subspace} of $\K_x\mathfrak{C}$.
The \emph{rank} of $\mathfrak{C}$ at $x$ is defined as the dimension of $\L_x\mathfrak{C}$.

Note that $\K_x\mathfrak{C}$ is a convex cone in $\T_x$; in particular, $\L_x=\K_x\cap (-\K_x)$.
Further $\K_x\mathfrak{C}$ coincides with 
$\T_x$ if and only if
$x$ lies in the interior of $\mathfrak{C}$.
In other words, $x$ has rank $m$ if and only if $x$ lies in the interior of $\mathfrak{C}$.%???REF, see, for instance, \cite{}.


Given a tangent vector $\vec{x}\in\T_pM$, consider the so called \emph{Jacobi operator}
\[R(\vec{x})\:\vec{v}\mapsto \Rm(\vec{v},\vec{x})\vec{x},\]
where $\Rm$ denotes the curvature tensor of $g$.
Note that $R(\vec{x})\:\T_p\to \T_p$ is a self-adjoint operator.
The Jacobi equation along a geodesic $\gamma$ takes form 
\[\vec{i}''+R(\gamma')\cdot \vec{i}=0,\]
here $\vec{i}''$ is a shortcut for $\nabla^2_{\gamma'}\vec{i}$.

\begin{thm}{Key lemma}\label{lem:key}
Let $(M,g)$ be a Riemannian manifold and $\gamma\:(a_0,b_0)\to M$ be a geodesic that runs in a closed convex set $\mathfrak{C}\subset (M,g)$.
Then the tangent cone of $\mathfrak{C}$ is parallel along $\gamma$; that is, the parallel translation along $\gamma$ defines a bijection between the tangent cones $\K_{\gamma(a)}\mathfrak{C}$ and $\K_{\gamma(b)}\mathfrak{C}$ for any $a,b \in (a_0,b_0)$.

Moreover, for any $a\in (a_0,b_0)$ the following hold:
\begin{subthm}{lem:key:a}
For any $\vec{v}\in \K_{\gamma(a)}\mathfrak{C}$ we have
\[R(\gamma'(a))\cdot \vec{v}\in \K_\vec{v}[\K_{\gamma(a)}\mathfrak{C}].\]
\end{subthm}

\begin{subthm}{lem:key:b} 
$\L_{\gamma(a)}\mathfrak{C}$ is an invariant subspace of $R(\gamma'(a))$.
\end{subthm}

\end{thm}

The proof uses the fact that the parallel translation can be defined via geodesics.
In a similar way, this observation was used in \cite[Section 13]{Ber-Nik} and~\cite{Petruninpar}.
In fact the main part of the key lemma follows from
\cite{Petruninpar}.

\parit{Proof of \ref{lem:key}.} 
Since all statements are local, we may replace $(M,g)$ by its small open convex subset.
By doing so we may assume that any pair of points of $(M,g)$ is connected by a unique geodesic and there are no conjugate points.
In particular, for any subinterval $[a,b]\subset (a_0,b_0)$ and any tangent vectors $\vec{v} \in \T_{\gamma (a)}$ and $\vec{w} \in \T_{\gamma (b)}$ there exists unique Jacobi field $\vec{i}$ along $\gamma$ 
such that $\vec{i}(a)=\vec{v}$ and $\vec{i}(b)=\vec{w}$.

Since Jacobi fields are variational fields of geodesic variations, 
the convexity of $\mathfrak{C}$ implies the following: 

\begin{thm}{Observation}
%	Let $\mathfrak{C}$ be a closed convex subset in a Riemannian manifold $(M,g)$.
Suppose $\vec{i}$ is a Jacobi field along % a geodesic
$\gamma$ and $a_0<a<t<b<b_0$.
If 
% \:[a,b]\to \mathfrak{C}$ in $(M,g)$.
%Assume that
$\vec{i}(a)\in \K_{\gamma(a)}\mathfrak{C}$ and $\vec{i}(b)\in \K_{\gamma(b)}\mathfrak{C}$
then $\vec{i}(t)\in \K_{\gamma(t)}\mathfrak{C}$.
	% for any $t\in [a,b]$.
\end{thm}%???Это наблюдение стало менее общим, из-за этого его (возможно) будет тяжелее понимать???

Choose a subinterval $[a,b] \subset (a_0,b_0)$.
Given a large positive integer $k$, consider the arithmetic progression
$t_0,\dots,t_{k+1}$ such that $t_0=a$ and $t_k=b$.

Choose a tangent vector $\vec{v}_0\in\T_{\gamma(a)}$.
Consider the sequence of vectors $\vec{v}_i\z\in\T_{\gamma(t_i)}$ defined recursively by $\vec{v}_{i+1}=2\cdot \vec{i}_i(t_{i+1})$, where $t\mapsto \vec{i}_i(t)$ denotes the Jacobi field along $\gamma$ such that $\vec{i}_i(t_i)=\vec{v}_i$ and $\vec{i}_i(t_{i+2})=0$.

Define $\iota_k\:\T_{\gamma(a)}\to \T_{\gamma(b)}$ by setting $\iota_k(\vec{i}_0)\df \vec{i}_k$.
According to the observation, if $\vec{i}_0\in \K_{\gamma(a)}\mathfrak{C}$, then $\iota_k(\vec{i}_0)\in \K_{\gamma(b)}\mathfrak{C}$.
Note that $\iota_k(\vec{i}_0)$ converges to the parallel translation of $\vec{i}_0$ along $\gamma$ as $k\to \infty$.
%???на сколько я помню, \cite{Ber-Nik} используют аппроксимацию композицией центральных симметри --- расчёты там те же, но вот так сослаться не получится.
Since $\K_{\gamma(b)}\mathfrak{C}$ is closed,
the parallel translation along $\gamma$ maps $\K_{\gamma(a)}\mathfrak{C}$ in $\K_{\gamma(b)}\mathfrak{C}$.
Switching the direction of $\gamma$, we get the opposite inclusion.
That is, the tangent cone $\K_{\gamma(t)}\mathfrak{C}$ is parallel along $\gamma$ --- the main part is proved.

Let us the parallel translation along $\gamma$ to identify the tangent spaces at points on $\gamma$.
This way we identify the tangent cones $\K_{\gamma(t)}\mathfrak{C}$ for all $t$;
denote the obtained cone by $\K$.

For $\vec{v}\in \K$ and small $\epsilon>0$, consider the unique Jacobi field $\vec{i}_\epsilon$ along $\gamma$ with $\vec{i}_\epsilon (a+\eps)\z=\vec{i} _\epsilon(a-\eps)=\vec{v}$.
Due to the Jacobi equation,
\[\vec{i}_\epsilon (a)=\vec{v} +\eps^2\cdot R(\gamma'(a))\cdot \vec{v} +o(\eps^2).\]
According to the observation, $\vec{i}_\epsilon(a)\in \K$ for any $\eps>0$.
Since $\K$ is a closed convex cone, we get $R(\gamma')\cdot \vec{v}\z\in \K_\vec{v}\K$ --- part \ref{SHORT.lem:key:a} is proved.

Finally note that 
\[\vec{v}\in \L_{\gamma(a)}\mathfrak{C}
\quad\iff\quad 
\vec{v}, -\vec{v}\in \K
\quad\iff\quad 
\K_\vec{v}\K=\K.
\]
Therefore, if $\vec{v}\in \L_{\gamma(a)}\mathfrak{C}$, then $\pm R(\gamma'(a))\cdot \vec{v}\in \K$, and hence $R(\gamma'(a))\cdot \vec{v}\in \L_{\gamma(a)}\mathfrak{C}$.
That is, $\L_{\gamma(a)}\mathfrak{C}$ is an invariant subspace of $R(\gamma'(a))$ --- part \ref{SHORT.lem:key:b} is proved.
\qeds



\section{Normalization of metrics}

Choose a Euclidean space $\T$.
Consider the space $\mathcal{G}$ of germs of Riemannian metrics on $\T$ at the origin that coincide with the canonical metric at the origin.
Any germ in $\mathcal{G}$ can described as $\langle G\cdot \vec x,\vec y\rangle$ for a field $G$ of positive self-adjoint operators on $\T$ defined in a neighborhood of the origin such that $G(0)=\id$.

Recall that $k$-jet of $G$ can be thought of as the Taylor polynomilal of $G$ of degree $k$, that is
\[G(\vec{x})=\id + G_1(\vec x)+\dots+G_k(\vec x) + o(|\vec x|^k),
\eqlbl{eq:k-jet}\]
where $G_i$ is a homogeneous polynomial of degreee $i$ defined on $\T$ with values in the self-adjoint operators on $\T$.
Note that every such array of polynomials $G_1,\dots, G_k$ can appear in \ref{eq:k-jet}.
It follows since the germ defined by 
\[G(\vec{x})=\id + G_1(\vec x)+\dots+G_k(\vec x)\eqlbl{eq:k-jet+}\]
is in $\mathcal{G}$.
The space of $k$-jets of germs in $\mathcal{G}$ at the origin will be denoted by~$\mathcal{G}^k$.

The higher Jacobi opertators $R_k$ are homogeneous polynomials of degree $k$ on $\T$ with values in the self-adjoint operators on $\T$;
it is defined by
\[R_k(\vec x)\cdot \vec v=(\nabla^{k-2}_{\vec x}\Rm)(\vec v,\vec x)\cdot\vec x;\]
we assume that $R_1=0$.
Recall that $R_i(\vec x)\cdot \vec x=0$ for any $\vec x$;
the space of such arrays $(R_1,\dots,R_k)$ will be denoted by $\mathcal{R}^k$.

The formulas for curvature tensor define a natural algebraic map 
\[\rho_k\:\mathcal{G}^k\to \mathcal{R}^k.\]

\begin{thm}{Proposition}
The map $\rho_k$ is an algebraic submersion.
\end{thm}

Before going into the proof we recall results about metric tensor in the normal coordinates.

A germ in $\mathcal{G}$ will be called \emph{normal} if the standard coordinates on $\T$ coinside with normal coordinates of the germ in a neigborhood of the origin.
By the Gauss lemma, a germ of $G$ is normal if and only if 
\[G(\vec{x})\cdot \vec{x}=\vec{x}\eqlbl{eq:Gauss}\]
for all small $\vec{x}\in \T$.
The subspace of normal germs in $\mathcal{G}$ and their $k$-jets will be denoted by $\mathcal{N}$ and $\mathcal{N}^k$ respectively.

Suppose that a normal $k$-jet is described by polynomials $G_1,\dots, G_k$ as in \ref{eq:k-jet}.
(In this case $G_1=0$, but it will not be important.)
Note that \ref{eq:Gauss} implies that
\[G_i(\vec{x})\cdot\vec{x}=0
\eqlbl{eq:Gaussi}\] 
for each $i$.
Moreover, for an array of polynomials $G_1,\dots,G_k$  such that $G_i$ is homogeneous of degree $i$ and \ref{eq:Gaussi} holds for each $i$, the sum \ref{eq:k-jet+} defines a normal $k$-jet;
that is, \ref{eq:Gaussi} is the only condition on the  normal $k$-jets.

The polynomials $G_1,\dots,G_k$ of a normal $k$-jet $G$ can be written as an algebraic expression in terms of $R_1,\dots,R_k$;
moreover for each $k$ we have 
\[G_k=a_k\cdot R_k + A_k,\eqlbl{eq:a+A}\]
where $a_k$ is a nonzero constant and $A_k$ is an algebraic expression in terms of $R_1,\dots R_{k-2}$.
This statement follows easily from the formula derived by Old\v{r}ich Kowalski and Martin Belger \cite[Proposition 2.2]{kowalski-belger}.

Note that \ref{eq:a+A} implies the following:

\begin{thm}{Claim}\label{clm:diff}
The map $\rho_k$ defines an algebraic diffeomorphism $\mathcal{N}^k\leftrightarrow\mathcal{R}^k$.
\end{thm}


\begin{wrapfigure}{r}{32 mm}
\vskip-0mm
\begin{tikzpicture}[scale=2]
  \node (1) at (0,1) {$\mathcal{G}$};
  \node (2) at (1,1){$\mathcal{N}$};
  \node (11) at (0,0){$\mathcal{G}^k$};
  \node (12) at (1,0) {$\mathcal{N}^k$};
    \node (21) at (.5,-5/6) {$\mathcal{R}^k$};
\draw[
    >=latex,
%   every node/.style={above,midway},% either
    auto=right,                      % or
    loop above/.style={out=75,in=105,loop},
    every loop,
    ]
   (1) edge[bend left] node [swap] {$\nu$}  (2)
   (2) edge[bend left, left hook-stealth] node {$\iota$} (1)
   (1) edge (11)
   (2) edge (12)
   (11) edge[bend right] node  {$\rho_k$} (21)
   (11) edge [bend left] node [swap] {$\nu_k$} (12)
   (12) edge[bend left, left hook-stealth] node {$\iota_k$} (11)
   (21) edge[<->][bend right] node  {$\rho_k$} (12);
\end{tikzpicture}
\label{diagram-page}
\end{wrapfigure}

\parit{Proof.}
Any germ becomes normal if the space $\T$ is reparametrized by its exponential map.
It defines the normalization map 
$\mathcal{G}\xrightarrow{\nu} \mathcal{N}$.

The maps $\mathcal{G}^k\xrightarrow{\rho_k}\mathcal{R}^k\z{\xleftrightarrow{\rho_k}}\mathcal{N}^k$ together with the forgetful maps $\mathcal{G}\to\mathcal{G}^k$ and $\mathcal{N}\to\mathcal{N}^k$  commute.
In particular we get a map $\mathcal{G}^k\xrightarrow{\nu_k}\mathcal{N}^k$ that commutes with the forgetful maps and the noramilzation $\nu$.

Note that the inclusion map $\mathcal{N}\stackrel{\iota}{\hookrightarrow} \mathcal{G}$ is a right inverse of $\nu$.
Moreover by changing the parametrization on $\T$ to normal coordinates of a given germ $G$ in $\mathcal{G}$, we may assume that $G$ lies in the image of $\iota$.
Therefore there is a map $\mathcal{N}^k\stackrel{\iota_k}{\hookrightarrow} \mathcal{G}^k$ that is right inverse of $\nu$ such that its image contains any given jet $\mathcal{G}^k$.
Whence $\mathcal{G}^k\xrightarrow{\nu^k} \mathcal{N}^k$ is an algebraic submersion.

By \ref{clm:diff}, $\mathcal{N}^k\xleftrightarrow{\rho_k}\mathcal{R}^k$ is an agebraic diffeomorphism, hence the result.
\qeds


\section{Genericity }

Let $M$ be a smooth $m$-dimensional manifold with a Riemannian metric $g$.

Recall that $R^{(k)}(\vec{x})\cdot \vec{x}=0$
for any $k$ and $\vec{x}\in \T_p$.
It follows that the the subspace spanned by $\vec{x}$ is invariant subspace of $R^{(k)}(\vec{x})$ for any $k$.
An invariant subspace that contains $\vec{x}$ of dimension at between $2$ and $m-1$ will be regarded as \emph{nontrivial}.

Suppose a nonconstant geodesic $\gamma$ in a Riemannian manifold has a parallel family of subspace $V_t \subset \T_{\gamma (t)}$ that are nontrivial invariant subspaces of $R(\gamma'(t))$ for any $t$.
In this case we say briefly that $\gamma$ admits an \emph{invariant family of subspaces}.

Let $M$ be an $m$-dimensional smooth manifold.
Choose a compact subset $K\subset M$ and $\eps>0$.
Consider the set $G(K,\eps)$ of all Riemannian metrics $g$ on $M$ such that there exists a geodesic $\gamma$ in $(M,g)$ such that (1) $\gamma$ starts in $K$, (2)  $\length\gamma=\eps$, and (3) $\gamma$ admits an invariant family of subspaces.

Since the geodesics and the curvature tensor depend continuously on the Riemannian metric in $\mathcal C^2$-topology, we get that 

\begin{thm}{Claim}\label{clm:G}
The set $G(K,\eps)$ is closed with respect to the $\mathcal C^2$-topology on the space of all Riemannian metrics on $M$.
\end{thm}

Denote by $G^k(K)$ the set of all smooth Riemannian metrics, such that for some $p\in K$ and a non-zero tangent vector $\vec{x}\in\T_p$ all the operators $R(\vec{x}),R'(\vec{x}),\dots,R^{(k)}(\vec{x})$ have a common nontrivial invariant subspace $V_0\subset \T_p$.

By the very definition of $G^k(K)$ we get the following:

\begin{thm}{Claim} $G^k(K)$ is closed with respect to $\mathcal C^{k+2}$-topology on the space of all Riemannian metrics on $M$.
\end{thm}

Suppose that $g\in G(K,\eps)$ and let $\gamma$ is a geodesic as above starting at $p\in K$ in the direction $\vec{x}$.
Taking covariant derivatives along $\gamma$, we get the following:

\begin{thm}{Claim}
$G^k(K)\z\supset G(K,\eps)$ for any integer $k\ge 0$, compact set $K\subset M$, and $\eps>0$.
\end{thm}


\begin{thm}{Proposition}\label{prop:G}
Let $M$ be a smooth $m$-dimensional manifold.
Then, for any $k\geq 6$, the set $G^k(K)$ is nowhere dense in the space of all Riemannian metrics.
\end{thm}

\parit{Proof.}
We may assume that $m\ge3$; otherwise there are no nontrivial subspaces. 

Choose nonzero $\vec{x}\in \T_p$.
Note that $k$-tuples $(R(\vec{x}),...,R^{(k)}(\vec{x}))$ that have a common nontrivial invariant subspace is an algebraic subset of~$\mathcal{R}^k(p)$.
Observe that the codimension of this subset is $(m-2)\z\cdot (k-1)$ in $\mathcal{R}^k(p)$.
The latter follows since the self-adjoint operators $R(\vec{x}),...,R^{(k)}(\vec{x})$ can be arbitrary, provided $R^{(i)}(\vec{x})=0$ for any $i$.

Consider the union $\Sigma$ of these subspaces for all unit vectors $\vec{x}\in \T_p$.
Note that $\Sigma\subset \mathcal{R}^k(p)$ is algebraic and its codimension is at least 
\[\ell=(m-2)\z\cdot (k-1)-(m-1).\]

By \ref{prop:submersion}, $\rho^{-1}(\Sigma)$ has codimension at least $\ell$ in the space of jets $\mathcal{J}^{k+2}(p)$.

Since $m\ge 3$, we get that $\ell> m$ if $k\ge 6$.
It remains to apply the Thom transversality theorem \cite[2.3.2]{eliashberg-mishachev}.
\qeds

Let $M$ be a smooth manifold.
Choose a nested sequence of compact sets $K_1\z\subset K_2\subset \dots$ that cover whole $M$ and set $\eps_n=\tfrac1n$.
Set 
\[G(M)=\bigcup_n G(K_n,\eps_n).\]
Note that $g\in G(M)$ if and only if $(M,g)$ has a nonconstant geodesic with an invariant family of subspaces.

Note that the statements in this section imply the following:

\begin{thm}{Claim}\label{clm:meager}
The set $G(M)$ is $\mathcal{C}^2$-meager; that is, its complement is a dense G-delta set in the space of all Riemannian metrics on $M$ with $\mathcal{C}^2$-topology.

In other words, if $g$ is a $\mathcal C^2$-generic Riemannian metric on a smooth manifold $M$,
then $(M,g)$ does not have nonconstant geodesic with an invariant family of subspaces.
\end{thm}


\section{Structure of convex sets}

The following claim makes it possible to extend some results about convex sets in Euclidean space to Riemannian manifolds.

\begin{thm}{Claim}\label{clm:convex}
Suppose that $\mathfrak{C}$ is a closed convex set in a Riemannian manifold $(M,g)$ and $x\in \mathfrak{C}$.
Then there is a smooth chart $s\:U\to M$ that covers $x$ such that the inverse image $s^{-1}\mathfrak{C}$ is a convex subset in $U$.
\end{thm}

\parit{Proof.}
Choose normal coordinates $(u_1,\dots, u_m)$ in a small spherical neighborhood of $x$.
We may assume that the $u_1$-axis point in the relative interior of~$\K_x\mathfrak{C}$.

Set $w_1=u_1-u_2^2-\dots-u_m^2$ and observe that the coordinates
$(w_1,u_2,\dots, u_m)$ do the trick.
\qeds

Since any closed convex set in Euclidean space is a topological manifold with boundary, applying \ref{clm:convex} we get the following:

\begin{thm}{Proposition}\label{prop:mnfld}
Any connected closed convex set $\mathfrak{C}$ in a Riemannian manifold $(M,g)$ is homeomorphic to a manifold with boundary, say $\mathfrak{B}$.
Moreover, the complement $\mathfrak{C}\backslash \mathfrak{B}$ is a totaly geodesic submanifold of $(M,g)$.
\end{thm}

Applying the result of Luděk 
Zajíček \cite{zajicek} 
together with \ref{clm:convex} we also get the following:

\begin{thm}{Proposition}\label{prop:rectifiable}
Let $\mathfrak{C}$ be a closed convex set in a Riemannian manifold $(M,g)$.
Then the set of points in $\mathfrak{C}$ with rank at most $k$ is countably \emph{$k$-rectifiable};
that is, this set can be  covered by images of a countable set of Lipschitz maps $\RR^k\to (M,g)$.
\end{thm}

\section{Proof assembling}

\parit{Proof of the main proposition (\ref{prom:rank}).}
Apply \ref{clm:meager} and the key lemma \mbox{(\ref{lem:key:b})}.


\parit{Proof of the main theorem (\ref{thm:main}).}
Let $\mathfrak B$ be as in \ref{prop:mnfld}; recall that $\mathfrak C\setminus \mathfrak B$ is a geodesic submanifold of $(M,g)$;
denote its dimension by $d$.
The tangent cone $\K_p \mathfrak C$ at any $p \in \mathfrak C\setminus \mathfrak B$ is $d$-dimensional linear space.
By Proposition \ref{prom:rank},, $d=1$ or $d=m$.
In the first case, $\mathfrak C\setminus \mathfrak B$ is a geodesic in $(M,g)$;
hence $\mathfrak C$ is contained in a geodesic as well.
In the latter case, $\mathfrak C\setminus \mathfrak B$ is open in $M$ --- part \ref{SHORT.thm:main:interior} is proved.

By Proposition \ref{prom:rank} any non-extreme point $x\in \partial \mathfrak C$ has rank 1.
Thus there is unique line in $\K_x\mathfrak C$ and it is the tangent line of the (therefore unique) geodesic $\gamma$ contained in $\mathfrak C$ and having $p$ as an inner point. 

Let us extend $\gamma$ to a maximal open interval, so that $\gamma$ stays in $\mathfrak C$.
By the main statement of the key lemma, all points on $\gamma$ lie on $\partial \mathfrak C$.
By the definition, all such geodesics consist of non-extreme points.

As seen above, through each non-extreme point on $\mathfrak C$ passes exactly one such geodesics.
Thus we have subdivided the set of non-extreme points of $\partial\mathfrak C$ into $g$-geodesics with positive lengths.

Finally, by \ref{prop:rectifiable}, there only countably many of such geodesics.
\qeds

\parit{Proof of the corollary (\ref{cor:caratheodory}).}
The convex hull $\mathfrak{C}$ of $Q$ can be obtained as the following infinite union.
We start with $Q=Q_0$ and define inductively $Q_{i+1}$ to be the union of all minimizing geodesics between pairs of points of $Q_i$.
Then the union $\mathfrak{C}= \bigcup_{i} 
Q_i$ is the convex hull of $Q$.

Assume that $\mathfrak{C}$ is closed and not equal to $M$; in particular $\partial\mathfrak{C}\ne \varnothing$.
Since $Q$ is not contained in a geodesic, by the main theorem, $\mathfrak{C}$ has a non-trivial interior.
By the construction of $\mathfrak{C}$ above, any point $x\in \mathfrak{C} \setminus Q$ is not an extreme point of~$\mathfrak{C}$.

Assume $\partial \mathfrak{C} \not\subset Q$.
By the main theorem the topological manifold $\partial \mathfrak{C}$ is the union of the compact subset $Q\cap \partial \mathfrak{C}$ and a countable union of geodesics.
But $\partial \mathfrak{C} \setminus Q$ is an $(m-1)$-dimensional topological manifold.
In particular it is not a union of countably many disjoint simple curves --- a contradiction.
\qeds

\section{Final remarks}

Recall that according to the main proposition (\ref{prom:rank}), if a geodesic $\gamma$ of a generic Riemannian manifold $(M,g)$ runs in the boundary of convex set $\mathfrak{C}$, then any point on $\gamma$ has rank 1.

It is worth mentioning the following closely  related result of Anatoliy Milka \cite[§~4]{milka} in the opposite direction; originally it was proved for Euclidean spaces, but the same proof works for Riemannian manifolds:

\begin{thm}{Milka's theorem}
Let $\mathfrak{C}$ be a closed convex set in an arbitrary Riemannian manifold $(M,g)$ and $\gamma$ be a geodesic in the boundary of $\mathfrak{C}$ with respect to the intrinsic metric of $\mathfrak {C}$.
Suppose that all points on $\gamma$ have rank at most 1 in $\mathfrak{C}$.
Then $\gamma$ is a geodesic of the ambient space $(M,g)$.
\end{thm}

It turns out that generic Riemannian manifold contains nontrivial geodesics that run in a convex hypersurface;
for example nearly horizontal geodesic in the product $\mathbb{S}^2\times \RR$ with perturbed metric. 
Moreover, it seems that the following statement holds true; maybe someone were to take on the burden of proving it formally:

\begin{thm}{Stetement}
Any Riemannian manifold $(M,g)$ contains a nontrivial geodesic  that runs in a convex hypersurface.
\end{thm}


\begin{thm}{Open question}
Is it true that the set of geodesics on convex hypersurfaces in generic Riemannian manifolds is locally finite?
\end{thm}

There is a chance that presented argument, when properly extended to infinite-dimensional manifolds might lead to a negative answer to the following question of Mikhael Gromov \cite[6.B\textsubscript{1}(f)]{gromov-1993}.

\begin{thm}{Open question}
Let $X$ be a complete length $\CAT(0)$ space (not necessary locally compact).
Is it true that any compact set of $X$ lies in a compact convex subset?
\end{thm}

For example it possible that any compact subset of a \emph{typical} $\CAT(0)$ space are geodesic segments.
Altho we do not see a right definition of a \emph{typical} $\CAT(0)$ space so far.

(Let us mention that convex sets in complete $\CAT(0)$ space have peculiar propertise, for example there are closed bounded convex sets without extreme points.
That is, a  natural  analogue  of  the  Krein--Milman  theorem fails in general $\CAT(0)$ spaces.
Such an example was constructed by Nicolas Monod \cite{monod-2016}.)

\begin{thm}{Open question}
Let $\mathfrak{C}$ be the closure of a convex hull of a set $Q$ in a Riemannian manifold.
Suppose $\gamma$ is a maximal $g$-geodesic that runs in $\partial \mathfrak{C}$.
Is it true that the ends of $\gamma$ belong to $Q$?
\end{thm}


\bibliographystyle{ieeetr}
\bibliography{convex}
\end{document}
